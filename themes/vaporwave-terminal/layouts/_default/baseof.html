{{/* layouts/_default/baseof.html */}}
<!DOCTYPE html>
<html lang="{{ .Site.LanguageCode | default "en" }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ if .IsHome }}{{ .Site.Title }}{{ else }}{{ .Title }} - {{ .Site.Title }}{{ end }}</title>
    <link rel="stylesheet" href="{{ "css/main.css" | relURL }}">
</head>
<body>
    <div class="container">
        <header class="terminal-window">
            <nav>
                {{ range site.Menus.main }}
                    <a href="{{ .URL }}">{{ .Name }}</a>
                {{ end }}
            </nav>
        </header>
        
        <main class="terminal-window">
            {{ block "main" . }}{{ end }}
        </main>
        
        <footer class="terminal-window">
            <p>&copy; {{ now.Year }} Digital Philosophy</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Add random retro emoticons
            const emojis = ['(╯°□°)╯︵ ┻━┻', '☜(ﾟヮﾟ☜)', '(⌐■_■)', '【=◈︿◈=】'];
            
            document.querySelectorAll('.emoji-trigger').forEach(trigger => {
                const emoji = document.createElement('span');
                emoji.className = 'secret-emoji';
                emoji.textContent = emojis[Math.floor(Math.random() * emojis.length)];
                trigger.parentNode.insertBefore(emoji, trigger.nextSibling);
            });

            // Add random scan effect to post cards
            let lastScrollPosition = window.pageYOffset;
            window.addEventListener('scroll', () => {
                const currentScroll = window.pageYOffset;
                document.querySelectorAll('.post-card').forEach(card => {
                    if (currentScroll > lastScrollPosition) {
                        card.style.transform = 'translateX(2px)';
                    } else {
                        card.style.transform = 'translateX(-2px)';
                    }
                    setTimeout(() => {
                        card.style.transform = 'translateX(0)';
                    }, 50);
                });
                lastScrollPosition = currentScroll;
            });

            // Add scroll progress indicator
            const progressBar = document.createElement('div');
            progressBar.className = 'scroll-progress';
            document.body.appendChild(progressBar);

            window.addEventListener('scroll', () => {
                const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
                const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
                const scrolled = (winScroll / height) * 100;
                progressBar.style.transform = `scaleX(${scrolled / 100})`;
            });

            // Random "loading" messages
            const messages = [
                'ACCESSING CYBERNET...',
                'DOWNLOADING REALITY...',
                'BUFFERING CONSCIOUSNESS...',
                'UPLOADING THOUGHTS...',
                'SYNTHESIZING VIBES...'
            ];

            function showRandomMessage() {
                if (Math.random() < 0.1) { // 10% chance on scroll
                    const message = document.createElement('div');
                    message.className = 'loading-message';
                    message.textContent = messages[Math.floor(Math.random() * messages.length)];
                    document.body.appendChild(message);
                    
                    setTimeout(() => {
                        message.classList.add('show');
                    }, 100);

                    setTimeout(() => {
                        message.classList.remove('show');
                        setTimeout(() => message.remove(), 300);
                    }, 2000);
                }
            }

            window.addEventListener('scroll', showRandomMessage);
        });
    </script>
</body>
</html>